{"mappings":"kBAAMA,EAAUC,EAAE,aACZC,EAAQF,EAAUG,KAAK,WACvBC,EAAEC,aAAaC,QAAQ,KAGvBC,EAFQC,KAAKC,MAAML,IAEXM,EACTC,KAAK,IAAKC,IAAI,yBACdD,KAAM,IAAIC,IAAI,8BAGbC,EAAaD,GAERA,EAAIE,QAAQ,WAAW,IACzBA,QAAQ,UAAU,IAClBA,QAAQ,OAAO,IACfA,QAAQ,OAAO,IAElBC,EAAO,KACTf,EAAUG,KAAK,iBAAiBa,SAChCT,EAAQU,SAAQ,CAACC,EAAKC,WACZC,EAAInB,EAAAA,6EAGciB,EAAKP,6CACLE,EAAYK,EAAKN,mNAQtCS,aAAanB,GAChBkB,EAAIE,GAAG,SAAQ,KACXC,OAAOC,KAAKN,EAAKN,QAErBQ,EAAIE,GAAG,QAAQ,UAAUG,IACrBC,QAAQC,IAAI,QACZF,EAAEG,kBACFrB,EAAQsB,OAAOV,EAAM,GACrBJ,WAIZA,IAEAd,EAAE,cACGqB,GAAG,SAAQ,SACJV,EAAIW,OAAOO,OAAO,YACG,IAAtBlB,EAAImB,QAAQ,UACZnB,EAAI,WAAWA,GAElBc,QAAQC,IAAIf,GACZL,EAAQyB,KAAAA,CACJrB,KAAKE,EAAYD,GAAK,GACtBqB,SAAS,OAAOrB,IAAIA,IAExBG,OAGRQ,OAAOW,eAAe,WACZC,EAAO3B,KAAK4B,UAAU7B,GAC5BF,aAAagC,QAAQ,IAAIF,IAG7BlC,EAAEqC,UAAUhB,GAAG,YAAYG,cAChBc,GAAKd,UACJe,EAAE,EAAEA,EAAEjC,EAAQkC,OAAOD,IACtBjC,EAAQiC,GAAG7B,KAAK+B,gBAAgBH,GAC/BhB,OAAOC,KAAKjB,EAAQiC,GAAG5B","sources":["./src/main.js"],"sourcesContent":["const $siteList=$('.siteList')\r\nconst $lastLi=$siteList.find('li.last')//到li里找类为last的元素\r\nconst x=localStorage.getItem('x')\r\nconst xObject=JSON.parse(x)\r\n//用数组\r\nconst hashMap=xObject || [  //一开始xObject可能为空,所以要用||，即如果xObject为空,那就去用后面的数据赋值\r\n    {logo:'A' ,url:'https://www.acfun.cn' },\r\n    {logo: 'B',url:'https://www.bilibili.com/' },\r\n]\r\n\r\nconst simplifyUrl=(url)=>{\r\n    //replace会有一个返回值,并不改变原来的元素url\r\n    return url.replace('https://','')\r\n        .replace('http://','')\r\n        .replace('www.','')\r\n        .replace(/\\/.*/,'')//此正则用于删除以/开头的内容\r\n}\r\nconst render=()=>{\r\n    $siteList.find('li:not(.last)').remove()//将之前界面显示的网址都删除,方便后面重新显示,有点像Python的界面刷新的功能\r\n    hashMap.forEach((node,index)=>{//node为当前元素,index为元素下标\r\n        const $li=$(`\r\n        <li>\r\n        <div class=\"site\">\r\n            <div class=\"logo\">${node.logo}</div>\r\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n            <div class=\"close\">\r\n            <svg class=\"icon\" >\r\n                <use xlink:href=\"#icon-close\"></use>\r\n            </svg>\r\n            </div>\r\n        </div>\r\n    </li>\r\n        `).insertBefore($lastLi)//将新元素插到lastLi前面\r\n        $li.on('click',()=>{ //点击$li代表的标签时，就打开一个新窗口。因为之前a标签太灵敏了,所以需要换种方法\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click','.close',(e)=>{//当$li里的类为close的元素被点击时,执行\r\n            console.log('here')\r\n            e.stopPropagation()//通过阻止冒泡,避免点击×号时的点击事件传到上层的li，导致 跳转页面\r\n            hashMap.splice(index,1)//根据前面的索引index从数组中删除掉我点击的元素\r\n            render()//重新渲染\r\n        })\r\n    })\r\n}\r\nrender()\r\n//监听点击事件\r\n$('.addButton')\r\n    .on('click',()=>{\r\n        let url=window.prompt('请输入你要的网址')//在网页端弹出一个方框让你输入,并返回你输入的内容\r\n        if(url.indexOf('http')!==0){//如果输入的内容里没http\r\n           url='https://'+url\r\n        }\r\n        console.log(url)\r\n        hashMap.push({\r\n            logo:simplifyUrl(url)[0],\r\n            logoType:'text',url:url\r\n        })\r\n        render()\r\n});\r\n\r\nwindow.onbeforeunload=()=>{//在你关闭或刷新页面时触发\r\n    const string=JSON.stringify(hashMap)//将对象转换成字符串\r\n    localStorage.setItem('x',string)//在本地的存储里设置一个x ，值为string\r\n}\r\n\r\n$(document).on('keypress',(e)=>{\r\n    const {key}=e//获取到你按的是哪一个按键\r\n    for(let i=0;i<hashMap.length;i++){\r\n        if(hashMap[i].logo.toLowerCase()===key){ //若当前元素的logo值和我按的按键相同，那就打开其对应的网页\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n})\r\n"],"names":["$16b5ad875ae907e2f7f79e7b8fe116cc$var$$siteList","$","$16b5ad875ae907e2f7f79e7b8fe116cc$var$$lastLi","find","$16b5ad875ae907e2f7f79e7b8fe116cc$var$x","localStorage","getItem","$16b5ad875ae907e2f7f79e7b8fe116cc$var$hashMap","JSON","parse","$16b5ad875ae907e2f7f79e7b8fe116cc$var$xObject","logo","url","$16b5ad875ae907e2f7f79e7b8fe116cc$var$simplifyUrl","replace","$16b5ad875ae907e2f7f79e7b8fe116cc$var$render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","console","log","stopPropagation","splice","prompt","indexOf","push","logoType","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"version":3,"file":"index.HASH_REF_83d4711ea689fc47f03deb70f03c99b4.js.map"}