{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","$searchButton","test","addForm","wd","value","length","alert","focus","setCookie","c_name","expiredays","exdate","Date","setDate","getDate","document","cookie","escape","toGMTString","getCookie","c_start","indexOf","c_end","unescape","substring","x","console","log","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","string","stringify","prompt","push","logoType","key","i","toLowerCase"],"mappings":"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","file":"main.6a984c94.map","sourceRoot":"..\\src","sourcesContent":["const $siteList=$('.siteList')\r\nconst $lastLi=$siteList.find('li.last')//到li里找类为last的元素\r\nconst $searchButton=$('#searchButton')\r\n\r\nfunction test(){\r\n    if (addForm.wd.value.length===0){\r\n        alert('请至少填写一个搜索内容！！')\r\n        addForm.wd.focus()\r\n        return false\r\n    }\r\n    return true\r\n}\r\nfunction setCookie(c_name,value,expiredays)\r\n{\r\n    var exdate=new Date()\r\n    exdate.setDate(exdate.getDate()+expiredays)\r\n    document.cookie=c_name+ \"=\" +escape(value)+\r\n        ((expiredays==null) ? \"\" : \";expires=\"+exdate.toGMTString())\r\n}\r\n\r\n//取回cookie\r\nfunction getCookie(c_name)\r\n{\r\n    if (document.cookie.length>0)\r\n    {\r\n        c_start=document.cookie.indexOf(c_name + \"=\")\r\n        if (c_start!=-1)\r\n        {\r\n            c_start=c_start + c_name.length+1\r\n            c_end=document.cookie.indexOf(\";\",c_start)\r\n            if (c_end==-1) c_end=document.cookie.length\r\n            return unescape(document.cookie.substring(c_start,c_end))\r\n        }\r\n    }\r\n    return \"\"\r\n}\r\n//\r\nconst x=getCookie('x');\r\nconsole.log( x);\r\nconst xObject=JSON.parse(x||null)\r\n//用数组\r\nconst hashMap= xObject|| [  //一开始xObject可能为空,所以要用||，即如果xObject为空,那就去用后面的数据赋值\r\n    {logo:'A' ,url:'https://www.acfun.cn' },\r\n    {logo: 'B',url:'https://www.bilibili.com/' },\r\n]\r\n\r\nconst simplifyUrl=(url)=>{\r\n    //replace会有一个返回值,并不改变原来的元素url\r\n    return url.replace('https://','')\r\n        .replace('http://','')\r\n        .replace('www.','')\r\n        .replace(/\\/.*/,'')//此正则用于删除以/开头的内容\r\n}\r\nconst render=()=>{\r\n    $siteList.find('li:not(.last)').remove()//将之前界面显示的网址都删除,方便后面重新显示,有点像Python的界面刷新的功能\r\n    hashMap.forEach((node,index)=>{//node为当前元素,index为元素下标\r\n        const $li=$(`\r\n        <li>\r\n        <div class=\"site\">\r\n            <div class=\"logo\">${node.logo}</div>\r\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n            <div class=\"close\">\r\n            <svg class=\"icon\" >\r\n                <use xlink:href=\"#icon-close\"></use>\r\n            </svg>\r\n            </div>\r\n        </div>\r\n    </li>\r\n        `).insertBefore($lastLi)//将新元素插到lastLi前面\r\n        $li.on('click',()=>{ //点击$li代表的标签时，就打开一个新窗口。因为之前a标签太灵敏了,所以需要换种方法\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click','.close',(e)=>{//当$li里的类为close的元素被点击时,执行\r\n            console.log('here')\r\n            e.stopPropagation()//通过阻止冒泡,避免点击×号时的点击事件传到上层的li，导致 跳转页面\r\n            hashMap.splice(index,1)//根据前面的索引index从数组中删除掉我点击的元素\r\n            render()//重新渲染\r\n        })\r\n    })\r\n    //在你关闭或刷新页面时触发\r\n    const string=JSON.stringify(hashMap)//将对象转换成字符串\r\n    setCookie('x',string,365);\r\n}\r\nrender()\r\n//监听点击事件\r\n$('.addButton')\r\n    .on('click',()=>{\r\n        let url=window.prompt('请输入你要的网址')//在网页端弹出一个方框让你输入,并返回你输入的内容\r\n        if(url.indexOf('http')!==0){//如果输入的内容里没http\r\n           url='https://'+url\r\n        }\r\n        console.log(url)\r\n        hashMap.push({\r\n            logo:simplifyUrl(url)[0],\r\n            logoType:'text',url:url\r\n        })\r\n        render()\r\n});\r\n\r\n\r\n$(document).on('keypress',(e)=>{\r\n    const {key}=e//获取到你按的是哪一个按键\r\n    for(let i=0;i<hashMap.length;i++){\r\n        if(hashMap[i].logo.toLowerCase()===key){ //若当前元素的logo值和我按的按键相同，那就打开其对应的网页\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n})\r\n"]}