{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","$searchButton","setCookie","c_name","value","expiredays","exdate","Date","setDate","getDate","document","cookie","escape","toGMTString","getCookie","length","c_start","indexOf","c_end","unescape","substring","x","console","log","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","string","stringify","prompt","push","logoType","key","i","toLowerCase"],"mappings":"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","file":"main.08edcf94.map","sourceRoot":"..\\src","sourcesContent":["const $siteList=$('.siteList')\nconst $lastLi=$siteList.find('li.last')//到li里找类为last的元素\nconst $searchButton=$('#searchButton')\n\n\nfunction setCookie(c_name,value,expiredays)\n{\n    var exdate=new Date()\n    exdate.setDate(exdate.getDate()+expiredays)\n    document.cookie=c_name+ \"=\" +escape(value)+\n        ((expiredays==null) ? \"\" : \";expires=\"+exdate.toGMTString())\n}\n\n//取回cookie\nfunction getCookie(c_name)\n{\n    if (document.cookie.length>0)\n    {\n        c_start=document.cookie.indexOf(c_name + \"=\")\n        if (c_start!=-1)\n        {\n            c_start=c_start + c_name.length+1\n            c_end=document.cookie.indexOf(\";\",c_start)\n            if (c_end==-1) c_end=document.cookie.length\n            return unescape(document.cookie.substring(c_start,c_end))\n        }\n    }\n    return \"\"\n}\n//\nconst x=getCookie('x');\nconsole.log( x);\nconst xObject=JSON.parse(x||null)\n//用数组\nconst hashMap= xObject|| [  //一开始xObject可能为空,所以要用||，即如果xObject为空,那就去用后面的数据赋值\n    {logo:'A' ,url:'https://www.acfun.cn' },\n    {logo: 'B',url:'https://www.bilibili.com/' },\n]\n\nconst simplifyUrl=(url)=>{\n    //replace会有一个返回值,并不改变原来的元素url\n    return url.replace('https://','')\n        .replace('http://','')\n        .replace('www.','')\n        .replace(/\\/.*/,'')//此正则用于删除以/开头的内容\n}\nconst render=()=>{\n    $siteList.find('li:not(.last)').remove()//将之前界面显示的网址都删除,方便后面重新显示,有点像Python的界面刷新的功能\n    hashMap.forEach((node,index)=>{//node为当前元素,index为元素下标\n        const $li=$(`\n        <li>\n        <div class=\"site\">\n            <div class=\"logo\">${node.logo}</div>\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\n            <div class=\"close\">\n            <svg class=\"icon\" >\n                <use xlink:href=\"#icon-close\"></use>\n            </svg>\n            </div>\n        </div>\n    </li>\n        `).insertBefore($lastLi)//将新元素插到lastLi前面\n        $li.on('click',()=>{ //点击$li代表的标签时，就打开一个新窗口。因为之前a标签太灵敏了,所以需要换种方法\n            window.open(node.url)\n        })\n        $li.on('click','.close',(e)=>{//当$li里的类为close的元素被点击时,执行\n            console.log('here')\n            e.stopPropagation()//通过阻止冒泡,避免点击×号时的点击事件传到上层的li，导致 跳转页面\n            hashMap.splice(index,1)//根据前面的索引index从数组中删除掉我点击的元素\n            render()//重新渲染\n        })\n    })\n    //在你关闭或刷新页面时触发\n    const string=JSON.stringify(hashMap)//将对象转换成字符串\n    setCookie('x',string,365);\n}\nrender()\n//监听点击事件\n$('.addButton')\n    .on('click',()=>{\n        let url=window.prompt('请输入你要的网址')//在网页端弹出一个方框让你输入,并返回你输入的内容\n        if(url.indexOf('http')!==0){//如果输入的内容里没http\n           url='https://'+url\n        }\n        console.log(url)\n        hashMap.push({\n            logo:simplifyUrl(url)[0],\n            logoType:'text',url:url\n        })\n        render()\n});\n\n\n$(document).on('keypress',(e)=>{\n    const {key}=e//获取到你按的是哪一个按键\n    for(let i=0;i<hashMap.length;i++){\n        if(hashMap[i].logo.toLowerCase()===key){ //若当前元素的logo值和我按的按键相同，那就打开其对应的网页\n            window.open(hashMap[i].url)\n        }\n    }\n})\n"]}